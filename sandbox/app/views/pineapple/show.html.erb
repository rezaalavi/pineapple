function clickLink(link) {
   var cancelled = false;

   if (document.createEvent) {
       var event = document.createEvent("MouseEvents");
       event.initMouseEvent("click", true, true, window,
           0, 0, 0, 0, 0,
           false, false, false, false,
           0, null);
       cancelled = !link.dispatchEvent(event);
   }
   else if (link.fireEvent) {
       cancelled = !link.fireEvent("onclick");
   }

   if (!cancelled) {
       window.location = link.href;
   }
}

$(document).ready(function() {
    $.getScript("<%=  engine_path =    pineapple_steps_engine_path
   engine_path= engine_path+"?init=#{params['init']}" unless params['init'].nil?
   engine_path %>");
 });

